---
- name: Setup GPU operator
  ansible.builtin.include_tasks: setup_gpu_operator.yml
  tags: gpu-operator

- name: Setup monitoring
  ansible.builtin.include_tasks: setup_monitoring.yml
  tags: monitoring

- name: Deploy miner gpu charts
  ansible.builtin.include_tasks: deploy_gpu_charts.yml
  tags: miner-gpu-charts

- name: Setup miner credentials
  ansible.builtin.include_tasks: setup_miner_credentials.yml
  tags: setup-miner-credentials
  vars:
    cert_name: miner
    cert_organization: chutes
    namespace: default  # Change this to your desired namespace
    store_as: secret   # Options: 'secret' or 'configmap'
  